var y=Object.defineProperty;var f=(i,t,o)=>t in i?y(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o;var r=(i,t,o)=>(f(i,typeof t!="symbol"?t+"":t,o),o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const w=document.getElementById("app"),h=w.attachShadow({mode:"closed"}),p=h.appendChild(document.createElement("audio"));h.innerHTML='<link rel="stylesheet" href="/components/shadowRoot/shadowRoot.css">';p.src="/sounds/What_Is_Love_song.mp3";p.playbackRate=.75;addEventListener("wheel",()=>{if(p.play(),!document.bodyClicked){alert("Кликни по экрану, а потом скролль");return}});class l{constructor(t,o,n,e,s,d){r(this,"position");r(this,"element");this.element=h.appendChild(document.createElement("div")),this.element.classList.add("sprite",t),d&&(this.element.style.zIndex=d),this.element.style.transform=`translateX(${100/1920*o+"vw"}) translateY(${100/1920*n+"vw"})`,this.position={element:this.element,_x:o,set x(c){this._x=c,this.element.style.transform=`translateX(${100/1920*this._x+"vw"}) translateY(${100/1920*this._y+"vw"}) scale(${s||1})`},get x(){return this._x},_y:n,set y(c){this._y=c,this.element.style.transform=`translateX(${100/1920*this._x+"vw"}) translateY(${100/1920*this._y+"vw"}) scale(${s||1})`},get y(){return this._y}},e&&(this.element.innerHTML=`<h1 style="top: ${e.posY}; left:${e.posX}">${e.text}</h1>`)}}class b{constructor(t,o,n){r(this,"sprite");r(this,"position");r(this,"speed");r(this,"newSpeed");r(this,"interval");this.sprite=new l("back-clouds",o,n),this.position={x:o,y:n},this.speed=t,this.newSpeed=t,setTimeout(()=>{this.update()},10),this.interval=setInterval(()=>{this.update()},document.TICK),addEventListener("wheel",e=>{document.bodyClicked&&(e.deltaY<0&&document.bodyScrolling<=0||e.deltaY>0&&document.bodyScrolling>8700||(this.sprite.position.y-=e.deltaY*.02))})}update(){this.position.x+=this.speed,this.position.x>1900&&(this.position.x=-500,this.sprite.element.remove(),this.sprite=new l("back-clouds",this.position.x,this.position.y)),this.sprite.position.x=this.position.x}}class u{constructor(t,o,n,e,s){r(this,"sprite");r(this,"position");r(this,"speed");this.sprite=new l(t,n,e,s),this.position={x:n,y:e},addEventListener("wheel",d=>{document.bodyClicked&&(d.deltaY<0&&document.bodyScrolling<=0||d.deltaY>0&&document.bodyScrolling>8700||(this.position.y-=d.deltaY*o,this.sprite.position.y=this.position.y))})}}class g{constructor(t,o,n,e,s){r(this,"sprite");r(this,"scale");r(this,"inner");r(this,"position");r(this,"maxSpeed");r(this,"minSpeed");r(this,"speed");r(this,"interval");this.scale=s,this.inner=e,this.sprite=new l("heart",o,n,e,s,Math.round(s*3)+6),this.position={x:o,y:n},this.maxSpeed=Math.abs(t*1.5),this.minSpeed=Math.abs(t*.05),this.speed=t,this.newSpeed=t,setTimeout(()=>{this.update()},10),this.interval=setInterval(()=>{this.update()},document.TICK),addEventListener("wheel",d=>{document.bodyClicked&&(d.deltaY<0&&document.bodyScrolling<=0||d.deltaY>0&&document.bodyScrolling>8700||(this.speed+=d.deltaY*.05,Math.abs(this.speed)>this.maxSpeed&&(this.speed=this.maxSpeed*Math.sign(this.speed))))})}update(){this.position.y+=this.speed,this.speed*=.85,Math.abs(this.speed)<this.minSpeed&&(this.speed=this.minSpeed*Math.sign(this.speed)),this.position.y>1100?(this.position.y=-100,this.sprite.element.remove(),this.sprite=new l("heart",this.position.x,this.position.y,this.inner,this.scale,Math.round(this.scale*3)+7)):this.position.y<-100&&(this.position.y=1100,this.sprite.element.remove(),this.sprite=new l("heart",this.position.x,this.position.y,this.inner,this.scale,Math.round(this.scale*3)+7)),this.sprite.position.y=this.position.y}draw(){this.sprite.position.y=this.position.y}}const v=(()=>{const i=[];let t=!0;return o=>{if(!t||i.length>90)return;const n=void 0,e=500-Math.sign(o)*600;for(let s=0;s<10;s++){const d=(10*Math.random()+10)*Math.sign(o),c=s*200+150*Math.random()-50,m=Math.random()*.4+.6;i.push(new g(d,c,e,n,m))}t=!1,setTimeout(()=>{t=!0},1e3)}})(),x=(()=>{const i=[];return{create:(t,o,n,e,s)=>{i.push(new u(t,o,n,e,s))},createGroup:(t,...o)=>{const n={name:t,clouds:[]};o.forEach(e=>{console.log(e),n.clouds.push(new u(...e))}),i.push(n)}}})(),a={addHearts:v,cloudsController:x};document.bodyClicked=!1;document.bodyScrolling=0;document.TICK=100;addEventListener("click",i=>{document.bodyClicked=!0});addEventListener("wheel",i=>{document.bodyClicked&&(i.deltaY<0&&document.bodyScrolling===0||i.deltaY>0&&document.bodyScrolling>8700||(document.bodyScrolling+=i.deltaY,a.addHearts(i.deltaY)))});const S=[];for(let i=0;i<8;i++)for(let t=0;t<8;t++)S.push(new b(1,i*300+100*Math.random()-150,t*200+100*Math.random()-150));a.cloudsController.createGroup("TextGroup",["big-cloud",.4,1e3,350,{text:"Hi!",posX:"14.58vw",posY:"3.64vw"}],["medium-cloud",.25,1250,500,{text:"Dear!",posX:"4.5vw",posY:"0vw"}]);a.cloudsController.createGroup("TextGroup2",["big-cloud",.4,100,1350,{text:"Have",posX:"14.58vw",posY:"3.645vw"}],["medium-cloud",.25,250,1200,{text:"Nice",posX:"5.21vw",posY:"0vw"}],["low-cloud",.15,300,1050,{text:"day!",posX:"4.17vw",posY:"-4.17vw"}]);a.cloudsController.createGroup("TextGroup3",["big-cloud",.4,1e3,2350,{text:"Let's",posX:"11.458vw",posY:"3.645vw"}],["medium-cloud",.23,1300,1730,{text:"Play",posX:"4.17vw",posY:"0vw"}]);a.cloudsController.createGroup("OtherClouds",["big-clouds",.5,100,800],["low-cloud",.1,300,250],["big-clouds",.5,1e3,1700],["big-clouds",.5,-500,2800],["big-clouds",.5,-100,3400],["big-clouds",.5,1500,3900],["big-cloud",.4,600,3750,{text:"Click on me",posX:"8.33vw",posY:"3.645vw"}]);
